<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/product.css">
    <link rel="stylesheet" href="assets/css/radio.css">
    <link rel="shortcut icon" type="image" href="assets/img/logo2.png">

    <link rel="stylesheet" href="assets/css/footer.css">
    <link rel="stylesheet" href="assets/css/base.css">

    <link href="https://fonts.googleapis.com/css?family=Poppins:600&display=swap" rel="stylesheet">
	<script src="https://kit.fontawesome.com/a81368914c.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@200;400&display=swap" rel="stylesheet">
    
    <title>Sản phẩm</title>
</head>

<script src="//code.jquery.com/jquery-1.10.2.js"></script>
    <script> 
    $(function(){
    $("header").load("header.html"); 
    $("footer").load("footer.html"); 
    });
    </script> 

<header>
    
</header>


<body>
    
    <div class="wrapper">
        <div class="top-side">
                <div class="top-content-left">
                    <div class="outside">
                        <input type="radio" name = "cate" id = "allPro" checked>
                        <label for = "allPro">Tất cả</label>
    
                        <input type="radio" name = "cate" id = "newPro">
                        <label for = "newPro">Sản phẩm mới</label>
    
                        <input type="radio" name = "cate" id = "topSale">
                        <label for = "topSale">Bán chạy nhất</label>
    
                        <input type="radio" name = "cate" id = "skeakerNam">
                        <label for = "skeakerNam">Sneaker Nam</label>
    
                        <input type="radio" name = "cate" id = "skeakerNu">
                        <label for = "skeakerNu">Sneaker Nữ</label>
    
                        <input type="radio" name = "cate" id = "nike">
                        <label for = "nike">Nike</label>
    
                        <!-- <input type="radio" name = "cate" id = "adidas">
                        <label for = "adidas">Adidas</label>
    
                        <input type="radio" name = "cate" id = "converse">
                        <label for = "converse">Converse</label> -->
<!--     
                        <input type="radio" name = "cate" id = "VANS">
                        <label for = "VANS">VANS</label>
    
                        <input type="radio" name = "cate" id = "newBal">
                        <label for = "newBal">New Balance</label>
    
                        <input type="radio" name = "cate" id = "MLB">
                        <label for = "MLB">MLB</label> -->
                    </div>
                   
                    
                </div>
    
    
                <div class="top-content-right">
                    <div id="sort-by">
                        <img src="assets/img/down_arrow.svg">
                        <div id="sort">Sắp xếp theo</div>
                        <ul class="sort-by-type" id="sbt">
                            <li>Giá: Thấp - Cao</li>
                            <li>Giá: Cao - Thấp</li>
                        </ul>
                    </div>
                    
                    <div id="filter">
                        <img src="assets/img/filter.png">
                        <div id="hiddenFilter">Ẩn bộ lọc</div>
                    </div>
                 
                </div>
    
    
        </div>

        <div class="left-side" id="lsm">
            <div class = "left-side-main">
                <div class="nhanhieu">
                    <div class="head-left">
                        <div class="title">Nhãn hiệu</div>
                        <img class="img-title" src="assets/img/down_arrow.svg">
                    </div>
                    <div class="chk-thuonghieu">
                        <input type="checkbox" id="chkNike">
                        <label for="chkNike">Nike</label>

                        <input type="checkbox" id="chkadidas">
                        <label for="chkadidas">Adidas</label>

                        <input type="checkbox" id="chkConverse">
                        <label for="chkConverse">Converse</label>

                        <input type="checkbox" id="chkVANS">
                        <label for="chkVANS">VANS</label>

                        <input type="checkbox" id="chkNewBalance">
                        <label for="chkNewBalance">New Balance</label>

                        <input type="checkbox" id="chkMLB">
                        <label for="chkMLB">MLB</label>

                        <input type="checkbox" id="chkPuma">
                        <label for="chkPuma">Puma</label>

                        <input type="checkbox" id="chkAsics">
                        <label for="chkAsics">Asics</label>

                        <input type="checkbox" id="chkSkechers">
                        <label for="chkSkechers">Skechers</label>

                    </div>
                    <div class="bottom-left"></div>

                </div>

                <div class="khoanggia">
                    <div class="head-left">
                        <div class="title">Khoảng giá</div>
                        <img class="img-title" src="assets/img/down_arrow.svg">
                    </div>
                    <div class="rangslider-content">
                        <div class="rangeslider-price">
                            <div class="progress"></div>
                        </div>
                        <div class="range-input">
                            <input type="range" class="range-min" min="0" max="5000000" value="0" step="200000">    
                            <input type="range" class="range-max" min="0" max="5000000" value="50000000" step="200000">    
                        </div>  
                        <div class="rangeslider-inputnum">
                            <div class="output-num">
                                <input readonly placeholder="0 ₫"></input>
                                <div class="seperate">-</div>
                                <input readonly placeholder="5.000.000 ₫"></input>
                            </div>
                    </div>
                    <div class="bottom-left" style="width: 100%;"></div>
                    </div>
                </div>
                <script src="js/rangeslider.js"></script>

                <div class="size">  
                    <div class="head-left">
                        <div class="title">Size</div>
                        <img class="img-title" src="assets/img/down_arrow.svg">
                       
                    </div>
                    <div class="content-size">
                        <input type="checkbox" class="chk-size" id="s35">
                        <label for = "s35">35</label>

                        <input type="checkbox" class="chk-size" id="s36">
                        <label for = "s36">36</label>

                        <input type="checkbox" class="chk-size" id="s37">
                        <label for = "s37">37</label>

                        <input type="checkbox" class="chk-size" id="s38">
                        <label for = "s38">38</label>

                        <input type="checkbox" class="chk-size" id="s39">
                        <label for = "s39">39</label>

                        <input type="checkbox" class="chk-size" id="s40">
                        <label for = "s40">40</label>

                        <input type="checkbox" class="chk-size" id="s41">
                        <label for = "s41">41</label>

                        <input type="checkbox" class="chk-size" id="s42">
                        <label for = "s42">42</label>

                        <input type="checkbox" class="chk-size" id="s43">
                        <label for = "s43">43</label>

                        <input type="checkbox" class="chk-size" id="s44">
                        <label for = "s44">44</label>

                        <input type="checkbox" class="chk-size" id="s45">
                        <label for = "s45">45</label>

                        <input type="checkbox" class="chk-size" id="s46">
                        <label for = "s46">46</label>

                        <input type="checkbox" class="chk-size" id="s47">
                        <label for = "s47">47</label>

                        <input type="checkbox" class="chk-size" id="s48">
                        <label for = "s47">48</label>

                        <input type="checkbox" class="chk-size" id="s49">
                        <label for = "s49">49</label>

                        <input type="checkbox" class="chk-size" id="s50">
                        <label for = "s50">50</label>

                    </div>
                    <div class="bottom-left" ></div>
                   
                </div>

                <div class="gioitinh">
                    <div class="head-left">
                        <div class="title">Giới tính</div>
                        <img class="img-title" src="assets/img/down_arrow.svg">
                    </div>
                    <div class="content-gender">
                        <div class="chk-thuonghieu">
                            <input type="checkbox" id="chkNam">
                            <label for="chkNam">Nam</label>
            
                            <input type="checkbox" id="chkNu">
                            <label for="chkNu">Nữ</label>
            
                            <input type="checkbox" id="chkTreEm">
                            <label for="chkTreEm">Trẻ em</label>
                        
                        </div>
                        <div class="bottom-left" style="width: 100%;"></div>

                    </div>
                    
                    
                </div>

                
            </div>
        </div>

        <div class="main-side" id="ms">
        

          
        </div>

    </div>
    <script>
        btns = document.getElementsByClassName("img");
                 for (var i = 0; i < btns.length; i++) {
                 btns[i].addEventListener("click", function () {
                    window.location = "detail-product.html";
                });
            }
    
    </script>
   
   <script> 
   
    btns = document.getElementById("filter");
    btnSort = document.getElementById("sort-by");
    var i;

    btns.addEventListener("click", function () {

        var displayFilter = document.getElementById("lsm");
        var mainside = document.getElementById("ms");
        var item = document.getElementsByClassName("item");
        var contentProduct = document.getElementById("ctp");
        var width = screen.width;
        if(displayFilter.style.display === "none"){
            mainside.style.width = "80%";
            contentProduct.style.paddingLeft = "20px";
            for(i =0; i<item.length;i++){
                item[i].style.height = "275px";
            }
            displayFilter.style.display = "block";
            mainside.style.borderLeft ="1px solid #bcbcbc";

        }
        else {
            displayFilter.style.display ="none";
            for(i =0; i<item.length;i++){
                item[i].style.height = "320px";
            }
            mainside.style.width = "100%";
            contentProduct.style.paddingLeft = "0px";
            mainside.style.borderLeft ="none";

        }
        
   });

   btnSort.addEventListener("click", function () {
        var displaySort = document.getElementById("sbt");
        if(displaySort.style.display === "none"){
            displaySort.style.display = "block";
        }
        else {
            displaySort.style.display ="none";
            }
        });
</script>

<script>
    var xhttp = new XMLHttpRequest();
    var html = "";
    var i;
    let myArr;
    xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
                myArr = JSON.parse(this.responseText);
                myFunction(myArr);
            }
        };
    xhttp.open("GET","assets/json/db_product.json", true);
    xhttp.send();
    function myFunction(arr) {
        html = "<div class='content-product' id='ctp'>";
        for (i = 0; i <arr.product.length; i++) {
            var sp = arr.product[i];
            sp.aft_price = sp.aft_price.toLocaleString('it-IT', {style : 'currency', currency : 'VND'});
            sp.aft_price = sp.aft_price.replace("VND", "₫");
            sp.aft_price = sp.aft_price.replace(/\s+/g, '');

            html += "<div class='item'> <div class='img'> <img onclick = openDetail(" + i + ") src=" + sp.thumb +"> <div class='xemnhanh'></div> <div class='xemnhanh-content'>Xem nhanh</div> </div> <div class='text'> <div class='title'>"+sp.title+"</div> <div class='name'>" + sp.name+"</div> <div class='gender'>"+sp.gender+"</div> <div class='price'> <div class='aft-price'>"+sp.aft_price+"</div> <div class='pre-price'>"+sp.pre_price+"</div>  </div> <div class='sale'>"+sp.sale+"</div></div> </div> "
        }
        html += "<div class='watchmore'> Xem thêm </div>";
        html += " </div>";
        document.getElementById("ms").innerHTML = html;
    }
    function openDetail(i){
       
        var sp = myArr.product[i];
        localStorage.setItem("data",JSON.stringify(sp));
        location.href = "detail-product.html";
        console.log(i);
    }
</script>
    
</body>


<footer>
   
</footer>
</html>